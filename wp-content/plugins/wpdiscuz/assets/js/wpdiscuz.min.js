var wpdiscuzLoadRichEditor=parseInt(wpdiscuzAjaxObj.loadRichEditor);if(wpdiscuzLoadRichEditor&&document.querySelector(".wpdiscuz-textarea-wrap"))var wpDiscuzEditor=new WpdEditor;function wpdMessagesOnInit(e,t){wpdiscuzAjaxObj.setCommentMessage(e,t),setTimeout((function(){location.href=location.href.substring(0,location.href.indexOf("wpdiscuzUrlAnchor")-1)}),3e3)}wpdiscuzAjaxObj.setCommentMessage=function(e,t,a){var o="wpdiscuz-message-error";if(e instanceof Array)for(var n in e)t instanceof Array?"success"===t[n]?o="wpdiscuz-message-success":"warning"===t[n]&&(o="wpdiscuz-message-warning"):"success"===t?o="wpdiscuz-message-success":"warning"===t&&(o="wpdiscuz-message-warning"),jQuery("<div/>").addClass(o).html(e[n]).prependTo("#wpdiscuz-comment-message").delay(a instanceof Array?a[n]:a||4e3).fadeOut(1e3,(function(){jQuery(this).remove()}));else"success"===t?o="wpdiscuz-message-success":"warning"===t&&(o="wpdiscuz-message-warning"),jQuery("<div/>").addClass(o).html(e).prependTo("#wpdiscuz-comment-message").delay(a||4e3).fadeOut(1e3,(function(){jQuery(this).remove()}))},wpdiscuzAjaxObj.applyFilterOnPhrase=function(e,t,a){return wpdiscuzAjaxObj.phraseFilters&&jQuery.each(wpdiscuzAjaxObj.phraseFilters,(function(o){"function"==typeof wpdiscuzAjaxObj[wpdiscuzAjaxObj.phraseFilters[o]]&&(e=wpdiscuzAjaxObj[wpdiscuzAjaxObj.phraseFilters[o]](e,t,a))})),e},jQuery(document).ready((function(e){e("body").addClass("wpdiscuz_"+wpdiscuzAjaxObj.version);var t=wpdiscuzAjaxObj.is_user_logged_in,a=1==wpdiscuzAjaxObj.wc_captcha_show_for_guest&&!t,o=1==wpdiscuzAjaxObj.wc_captcha_show_for_members&&t,n=wpdiscuzAjaxObj.wpDiscuzReCaptchaVersion,i=parseInt(wpdiscuzAjaxObj.commentListLoadType),d=parseInt(wpdiscuzAjaxObj.wc_post_id),s=parseInt(wpdiscuzAjaxObj.commentListUpdateType),c=1e3*parseInt(wpdiscuzAjaxObj.commentListUpdateTimer),p=parseInt(wpdiscuzAjaxObj.liveUpdateGuests),r=wpdiscuzAjaxObj.loadLastCommentId,l=r,m=parseInt(wpdiscuzAjaxObj.firstLoadWithAjax),w=parseInt(wpdiscuzAjaxObj.is_rate_editable,10);Cookies.get("wpdiscuz_comments_sorting")&&Cookies.remove("wpdiscuz_comments_sorting",{path:""}),Cookies.get("wordpress_last_visit")&&Cookies.remove("wordpress_last_visit",{path:""}),Cookies.get("wpdiscuz_last_visit")&&Cookies.remove("wpdiscuz_last_visit",{path:""});var u,f=parseInt(wpdiscuzAjaxObj.wordpressIsPaginate),b=wpdiscuzAjaxObj.storeCommenterData,h=(parseInt(wpdiscuzAjaxObj.wmuEnabled),wpdiscuzAjaxObj.isCookiesEnabled),_=!0,g=wpdiscuzAjaxObj.cookiehash,z=parseInt(wpdiscuzAjaxObj.isLoadOnlyParentComments),j=parseInt(wpdiscuzAjaxObj.enableDropAnimation)?500:0,v=parseInt(wpdiscuzAjaxObj.isNativeAjaxEnabled),x=parseInt(wpdiscuzAjaxObj.userInteractionCheck,10),C=parseInt(wpdiscuzAjaxObj.enableBubble),y=parseInt(wpdiscuzAjaxObj.bubbleLiveUpdate),k=parseInt(wpdiscuzAjaxObj.bubbleHintTimeout),O=parseInt(wpdiscuzAjaxObj.bubbleHintHideTimeout)?parseInt(wpdiscuzAjaxObj.bubbleHintHideTimeout):5,A=parseInt(wpdiscuzAjaxObj.bubbleShowNewCommentMessage),I=wpdiscuzAjaxObj.bubbleLocation,T=wpdiscuzAjaxObj.inlineFeedbackAttractionType,D=(D=parseInt(wpdiscuzAjaxObj.scrollSize))||32,E=[],F=[],M=[],L=!1,R=1,S=0,P=e("html").css("scroll-behavior"),H=e("body").css("scroll-behavior");function q(e){S=Math.ceil(Date.now()/1e3)}(x&&(document.addEventListener("mousedown",q),document.addEventListener("mousemove",q),document.addEventListener("touchstart",q),document.addEventListener("scroll",q),document.addEventListener("keydown",q)),e("#wp-admin-bar-wpdiscuz > .ab-item").prepend("<img src='"+wpdiscuzAjaxObj.menu_icon+"' style='width:22px;height:22px;vertical-align:middle;'>"),e(document).on("mouseover","#wp-admin-bar-wpdiscuz",(function(){e(this).find("> .ab-item img").attr("src",wpdiscuzAjaxObj.menu_icon_hover)})),e(document).on("mouseleave","#wp-admin-bar-wpdiscuz",(function(){e(this).find("> .ab-item img").attr("src",wpdiscuzAjaxObj.menu_icon)})),e(".wc_social_plugin_wrapper .wp-social-login-provider-list").length?e(".wc_social_plugin_wrapper .wp-social-login-provider-list").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wpd-form-wrapper >  .wpd-secondary-forms-social-content"):e(".wc_social_plugin_wrapper .the_champ_login_container").length?e(".wc_social_plugin_wrapper .the_champ_login_container").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wpd-form-wrapper >  .wpd-secondary-forms-social-content"):e(".wc_social_plugin_wrapper .social_connect_form").length?e(".wc_social_plugin_wrapper .social_connect_form").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wpd-form-wrapper >  .wpd-secondary-forms-social-content"):e(".wc_social_plugin_wrapper .oneall_social_login_providers").length&&e(".wc_social_plugin_wrapper .oneall_social_login .oneall_social_login_providers").clone().prependTo("#wpdiscuz_hidden_secondary_form > .wpd-form-wrapper >  .wpd-secondary-forms-social-content"),wpdiscuzLoadRichEditor&&e("#wpd-editor-0_0").length&&wpDiscuzEditor.createEditor("#wpd-editor-0_0"),window.addEventListener("beforeunload",(function(t){var a=e(".wpd-form").not(":hidden");if(a.length)if(wpdiscuzLoadRichEditor&&document.querySelector(".wpdiscuz-textarea-wrap")){for(var o=0;o<a.length;o++)if("\n"!==wpDiscuzEditor.createEditor(e(a[o]).find(".ql-container").attr("id")).getText())return t.preventDefault(),void(t.returnValue="")}else for(o=0;o<a.length;o++)if(e(a[o]).find(".wc_comment").val())return t.preventDefault(),void(t.returnValue="")})),wpdiscuzLoadRichEditor||(e(document).delegate("textarea.wc_comment","input",(function(){be(e(this))})),e.each(e("textarea.wc_comment"),(function(){be(e(this))}))),e("body").on("focus","#wpdcom .ql-editor, #wpdcom .wc_comment",(function(){e(".wpd-form-foot",e(this).parents(".wpd_comm_form")).slideDown(j)})),e("body").on("focus","#wpdcom textarea",(function(){e(this).next(".autogrow-textarea-mirror").length||e(this).autoGrow()})),t)||N({comment_author:Cookies.get("comment_author_"+g),comment_author_email:Cookies.get("comment_author_email_"+g),comment_author_url:Cookies.get("comment_author_url_"+g)});if(e(".wpd-vote-down.wpd-dislike-hidden").remove(),e(".wpd-toolbar-hidden").prev("[id^=wpd-editor-]").css("border-bottom","1px solid #dddddd"),e("body").on("click","#wpd-editor-source-code-wrapper-bg",(function(){e(this).hide(),e("#wpd-editor-source-code-wrapper").hide(),e("#wpd-editor-uid").val(""),e("#wpd-editor-source-code").val("")})),wpdiscuzLoadRichEditor&&e("body").on("click","#wpd-insert-source-code",(function(){var t=wpDiscuzEditor.createEditor("#"+e("#wpd-editor-uid").val());t.deleteText(0,t.getLength(),Quill.sources.USER);var a=e("#wpd-editor-source-code").val();a.length&&t.clipboard.dangerouslyPasteHTML(0,a,Quill.sources.USER),t.update(),e("#wpd-editor-source-code-wrapper-bg").hide(),e("#wpd-editor-source-code-wrapper").hide(),e("#wpd-editor-uid").val(""),e("#wpd-editor-source-code").val("")})),e("body").on("click",".wpd-reply-button",(function(){var i=Z(e(this),0);e(this).hasClass("wpdiscuz-clonned")?(wpdiscuzLoadRichEditor?setTimeout((function(){wpDiscuzEditor.createEditor("#wpd-editor-"+i).focus()}),j):setTimeout((function(){e("#wc-textarea-"+i).trigger("focus")}),j),e("#wpd-secondary-form-wrapper-"+i).slideToggle(j)):function(a){var o=Z(a,0);e("#wpdiscuz_form_anchor-"+o).before(function(t){return e("#wpdiscuz_hidden_secondary_form").html().replace(/wpdiscuzuniqueid/g,t)}(o));var n=e("#wpd-secondary-form-wrapper-"+o);if(!t){N({comment_author:Cookies.get("comment_author_"+g),comment_author_email:Cookies.get("comment_author_email_"+g),comment_author_url:Cookies.get("comment_author_url_"+g)})}wpdiscuzLoadRichEditor?setTimeout((function(){wpDiscuzEditor.createEditor("#wpd-editor-"+o).focus()}),j):setTimeout((function(){e("#wc-textarea-"+o).trigger("focus")}),j);n.slideToggle(j,(function(){a.addClass("wpdiscuz-clonned")}))}(e(this)),function(t){if((a||o)&&"2.0"===n){var i=ee(t);setTimeout((function(){if(!F[i])try{F[i]=grecaptcha.render("wpdiscuz-recaptcha-"+t,{sitekey:wpdiscuzAjaxObj.wpDiscuzReCaptchaSK,theme:wpdiscuzAjaxObj.wpDiscuzReCaptchaTheme,callback:function(a){e("#wpdiscuz-recaptcha-field-"+t).val("key")},"expired-callback":function(){e("#wpdiscuz-recaptcha-field-"+t).val("")}})}catch(e){console.log(e),wpdiscuzAjaxObj.setCommentMessage("reCaptcha Error: "+e.message,"error")}}),1e3)}}(i)})),e("body").on("click","#wpdcom [data-wpd-clipboard]",(function(){var t=e(this).data("wpd-clipboard");e(this).data("wpd-ismention")&&(t="@"+t);var a=e("<input/>");a.appendTo("body").css({position:"absolute",top:"-10000000px"}).val(t),a.trigger("select"),document.execCommand("copy"),a.remove(),wpdiscuzAjaxObj.setCommentMessage(t+"<br/>"+wpdiscuzAjaxObj.wc_copied_to_clipboard,"success",5e3)})),e("body").on("click",".wpdiscuz-nofollow,.wc_captcha_refresh_img,.wpd-load-more-submit",(function(e){e.preventDefault()})),e("body").on("click",".wpd-toggle.wpd_not_clicked",(function(){var t=e(this);t.removeClass("wpd_not_clicked");var a=Z(e(this),0),o=e(this),n=e(".fas",o);!o.parents(".wpd-comment:not(.wpd-reply)").children(".wpd-reply").length&&z?function(t,a){var o=ee(t),n=new FormData;n.append("action","wpdShowReplies"),n.append("commentId",o),_e(v,!0,n).done((function(o){a.addClass("wpd_not_clicked"),"object"==typeof o&&o.success&&(e("#wpd-comm-"+t).replaceWith(o.data.comment_list),e("#wpd-comm-"+t+" .wpd-toggle .fas").removeClass("fa-chevron-down").addClass("fa-chevron-up"),e("#wpd-comm-"+t+" .wpd-toggle .wpd-view-replies .wpd-view-replies-text").text(wpdiscuzAjaxObj.wc_hide_replies_text),e("#wpd-comm-"+t+" .wpd-toggle").attr("wpd-tooltip",wpdiscuzAjaxObj.wc_hide_replies_text),he(o)),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,o,n){console.log(n),a.addClass("wpd_not_clicked"),e("#wpdiscuz-loading-bar").fadeOut(250)}))}(a,t):e("#wpd-comm-"+a+"> .wpd-reply").slideToggle(700,(function(){e(this).is(":hidden")?(n.removeClass("fa-chevron-up"),n.addClass("fa-chevron-down"),o.find(".wpd-view-replies-text").text(wpdiscuzAjaxObj.wc_show_replies_text),o.attr("wpd-tooltip",wpdiscuzAjaxObj.wc_show_replies_text)):(n.removeClass("fa-chevron-down"),n.addClass("fa-chevron-up"),o.find(".wpd-view-replies-text").text(wpdiscuzAjaxObj.wc_hide_replies_text),o.attr("wpd-tooltip",wpdiscuzAjaxObj.wc_hide_replies_text)),t.addClass("wpd_not_clicked")}))})),e("body").on("mouseenter",".wpd-new-loaded-comment",(function(){e(this).removeClass("wpd-new-loaded-comment")})),e("body").on("click",".wpd-sbs-toggle",(function(){e(".wpdiscuz-subscribe-bar").slideToggle(j)})),parseInt(wpdiscuzAjaxObj.wpDiscuzIsShowOnSubscribeForm)&&!t&&wpdiscuzAjaxObj.wpDiscuzReCaptchaSK&&e("#wpdiscuz-subscribe-form").length&&("2.0"===n?(setTimeout((function(){try{grecaptcha.render("wpdiscuz-recaptcha-subscribe-form",{sitekey:wpdiscuzAjaxObj.wpDiscuzReCaptchaSK,theme:wpdiscuzAjaxObj.wpDiscuzReCaptchaTheme,callback:function(t){e("#wpdiscuz-recaptcha-field-subscribe-form").val("key")},"expired-callback":function(){e("#wpdiscuz-recaptcha-field-subscribe-form").val("")}})}catch(e){console.log(e),wpdiscuzAjaxObj.setCommentMessage("reCaptcha Error: "+e.message,"error")}}),1e3),e("body").on("submit","#wpdiscuz-subscribe-form",(function(t){e("#wpdiscuz-recaptcha-field-subscribe-form").val()?e(".wpdiscuz-recaptcha",e(this)).css("border","none"):(e(".wpdiscuz-recaptcha",e(this)).css("border","1px solid red"),ne(e(this),""),t.preventDefault())}))):"3.0"===n&&e("body").on("click","#wpdiscuz_subscription_button",(function(t){var a=e(this).parents("#wpdiscuz-subscribe-form");ne(a,""),t.preventDefault();try{grecaptcha.ready((function(){grecaptcha.execute(wpdiscuzAjaxObj.wpDiscuzReCaptchaSK,{action:"wpdiscuz/wpdAddSubscription"}).then((function(e){document.getElementById("wpdiscuz-recaptcha-field-subscribe-form").value=e,a.trigger("submit")}),(function(e){wpdiscuzAjaxObj.setCommentMessage("reCaptcha Error","error"),console.log(e)}))}))}catch(t){console.log(t),wpdiscuzAjaxObj.setCommentMessage("reCaptcha Error: "+t.message,"error")}}))),(a||o)&&"2.0"===n){var U=e(window).width(),W=e("#wpdcom").width();W>=1100&&(e("#wpdcom .wpd_main_comm_form .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"right 0","-webkit-transform-origin":"right 0",transform:"scale(0.9)","-webkit-transform":"scale(0.9)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"right 0","-webkit-transform-origin":"right 0",transform:"scale(0.9)","-webkit-transform":"scale(0.9)"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-left").css({width:"65%"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-right").css({width:"35%"})),W>=940&&W<1100&&(e("#wpdcom .wpd_main_comm_form .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"right 0","-webkit-transform-origin":"right 0",transform:"scale(0.9)","-webkit-transform":"scale(0.9)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"right 0","-webkit-transform-origin":"right 0",transform:"scale(0.9)","-webkit-transform":"scale(0.9)"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-left").css({width:"60%"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-right").css({width:"40%"})),W>=810&&W<940&&(e("#wpdcom .wpd_main_comm_form .wpd-field-captcha .wpdiscuz-recaptcha").css({transform:"scale(0.9)","-webkit-transform":"scale(0.9)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({transform:"scale(0.8)","-webkit-transform":"scale(0.8)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-left").css({width:"40%"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-right").css({width:"60%"})),W>=730&&W<810&&(e("#wpdcom .wpd_main_comm_form .wpd-field-captcha .wpdiscuz-recaptcha").css({transform:"scale(0.9)","-webkit-transform":"scale(0.9)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"right 0","-webkit-transform-origin":"right 0",transform:"scale(0.8)","-webkit-transform":"scale(0.8)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-left").css({width:"45%"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-right").css({width:"55%"})),W>=610&&W<730&&(e("#wpdcom .wpd_main_comm_form .wpd-field-captcha .wpdiscuz-recaptcha").css({transform:"scale(0.85)","-webkit-transform":"scale(0.85)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({transform:"scale(0.8)","-webkit-transform":"scale(0.8)"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-left").css({width:"43%"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-right").css({width:"55%"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-left").css({width:"30%"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-right").css({width:"70%"})),U>650&&(W>=510&&W<610&&(e("#wpdcom .wpd_main_comm_form .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"center 0","-webkit-transform-origin":"center 0",transform:"scale(0.77)","-webkit-transform":"scale(0.77)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"right 0","-webkit-transform-origin":"right 0",transform:"scale(0.77)","-webkit-transform":"scale(0.77)"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-left").css({width:"35%"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-right").css({width:"63%"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-left").css({width:"30%",position:"relative",right:"-60px"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-right").css({width:"70%"}),e("#wpdcom .wpd-secondary-form-wrapper .wc-form-footer").css({"margin-left":"0px"})),W>=470&&W<510&&(e("#wpdcom .wpd_main_comm_form .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"center 0","-webkit-transform-origin":"center 0",transform:"scale(0.77)","-webkit-transform":"scale(0.77)"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({"transform-origin":"right 0","-webkit-transform-origin":"right 0",transform:"scale(0.77)","-webkit-transform":"scale(0.77)"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-left").css({width:"40%"}),e("#wpdcom .wpd_main_comm_form .wpd-form-col-right").css({width:"60%"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-left").css({float:"none",width:"100%",display:"block"}),e("#wpdcom .wpd-secondary-form-wrapper .wpd-form-col-right").css({float:"none",width:"100%",display:"block"}),e("#wpdcom .wpd_main_comm_form .wc-form-footer").css({"margin-left":"0px"}),e("#wpdcom .wpd-secondary-form-wrapper .wc-form-footer").css({"margin-left":"0px"})),W<470&&(e("#wpdcom .wpd-secondary-form-wrapper .wpd-field-captcha .wpdiscuz-recaptcha").css({margin:"0px auto","transform-origin":"center 0","-webkit-transform-origin":"center 0"}),e("#wpdcom .wpd-form-col-left").css({float:"none",width:"100%",display:"block"}),e("#wpdcom .wpd-form-col-right").css({float:"none",width:"100%",display:"block"}),e("#wpdcom .wpd-secondary-form-wrapper .wc-form-footer").css({"margin-left":"0px"}),e("#wpdcom .wpd-secondary-form-wrapper .wc_notification_checkboxes").css({"text-align":"center"}),e("#wpdcom .wpd-secondary-form-wrapper .wc-field-submit").css({"text-align":"center"})))}function B(t,a,o){e(document.body).trigger("wpdiscuz_before_comment_post",a,o),_e(v,!1,a).done((function(n){if(e(o).addClass("wpd_not_clicked"),"object"==typeof n)if(n.success){"collapsed"===wpdiscuzAjaxObj.commentFormView&&e(".wpd-form-foot",t).slideUp(j),n.data.wc_all_comments_count_new=parseInt(n.data.wc_all_comments_count_new),e(".wpd-thread-info").html(n.data.wc_all_comments_count_before_threads_html),e(".wpd-thread-info").attr("data-comments-count",n.data.wc_all_comments_count_new),e("#wpd-bubble-all-comments-count").replaceWith(n.data.wc_all_comments_count_bubble_html);var i=j;n.data.is_main?se(n.data.message):(i=j+700,e("#wpd-secondary-form-wrapper-"+n.data.uniqueid).slideToggle(700),1==n.data.is_in_same_container?e("#wpd-secondary-form-wrapper-"+n.data.uniqueid).after(n.data.message):e("#wpd-comm-"+n.data.uniqueid).after(n.data.message)),function(e){if(!e.data.held_moderate){var t=new FormData;t.append("action","wpdCheckNotificationType"),t.append("comment_id",e.data.new_comment_id),t.append("email",e.data.comment_author_email),t.append("isParent",e.data.is_main),_e(v,!0,t)}}(n),function(e){if(e.data.redirect>0&&e.data.new_comment_id){var t=new FormData;t.append("action","wpdRedirect"),t.append("commentId",e.data.new_comment_id),_e(v,!0,t).done((function(e){"object"==typeof e&&e.success&&setTimeout((function(){location.href=e.data}),2e3)})).fail((function(e,t,a){console.log(a)}))}}(n),h&&_?function(t){var a=t.comment_author_email,o=t.comment_author,n=t.comment_author_url;null==b?(Cookies.set("comment_author_email_"+g,a),Cookies.set("comment_author_"+g,o),n.length&&Cookies.set("comment_author_url_"+g,n)):(b=parseInt(b),Cookies.set("comment_author_email_"+g,a,{expires:b,path:"/"}),Cookies.set("comment_author_"+g,o,{expires:b,path:"/"}),n.length&&Cookies.set("comment_author_url_"+g,n,{expires:b,path:"/"}));e(".wpd-cookies-checkbox").length&&e(".wpd-cookies-checkbox").prop("checked",!0)}(n.data):_||e(".wpd-cookies-checkbox").prop("checked",!1),t.get(0).reset(),wpdiscuzLoadRichEditor?wpDiscuzEditor.createEditor("#wpd-editor-"+e(".wpdiscuz_unique_id",t).val()).setContents([{insert:"\n"}]):be(t.find(".wc_comment")),N(n.data),e(".wmu-preview-wrap",t).remove(),E.length&&(E.forEach((function(e){e.parents(".wpd-field-checkbox").remove()})),E=[]),parseInt(wpdiscuzAjaxObj.scrollToComment)&&setTimeout((function(){ie(),e("html, body").animate({scrollTop:e("#comment-"+n.data.new_comment_id).offset().top-D},1e3,de)}),i),he(n,t),e(document.body).trigger("wpdiscuz_comment_posted",[t,a,o,n.data])}else n.data&&(wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[n.data],n.data,t),"error"),he(n,t));else wpdiscuzAjaxObj.setCommentMessage(n,"error");e("#wpdiscuz-loading-bar").fadeOut(250),L=!1})).fail((function(t,a,n){console.log(n),e(o).addClass("wpd_not_clicked"),e("#wpdiscuz-loading-bar").fadeOut(250)}))}function N(t){e(".wpd_comm_form .wc_name").val(t.comment_author),t.comment_author_email&&t.comment_author_email.indexOf("@example.com")<0&&e(".wpd_comm_form .wc_email").val(t.comment_author_email),t.comment_author_url&&e(".wpd_comm_form .wc_website").val(t.comment_author_url)}function V(t,a){e("#wpd-comm-"+t+" > .wpd-comment-wrap .wpd-comment-right .wpd_editable_comment").show(),e("#wpd-comm-"+t+" .wpdiscuz-edit-form-wrap").replaceWith(a),e("#wpd-comm-"+t+" > .wpd-comment-wrap .wpd-comment-last-edited").show()}e("body").on("click",".wc_comm_submit.wpd_not_clicked",(function(){var i=e(this),d=1,s=e(this).parents("form");if("true"!==s.attr("data-uploading")){if(s.hasClass("wpd_main_comm_form")||(d=function(t){var a=t.attr("class").split(" "),o="";return e.each(a,(function(e,t){"wpd_comment_level"===te(t,!1)&&(o=te(t,!0))})),parseInt(o)+1}(e(this).parents(".wpd-comment"))),e(document.body).trigger("wpdiscuz_new_comment",[i,s,d]),ne(s,"#wpd-editor-"+e(".wpdiscuz_unique_id",s).val()),s.on("submit",(function(e){e.preventDefault()})),s[0].checkValidity()&&(c=s,p=!0,"2.0"===n&&e("input[name=wc_captcha]",c).length&&!e("input[name=wc_captcha]",c).val().length?(p=!1,e(".wpdiscuz-recaptcha",c).css("border","1px solid red")):"2.0"===n&&e("input[name=wc_captcha]",c).length&&e(".wpdiscuz-recaptcha",c).css("border","none"),p)){L=!0,function(t){e(".wpd-agreement-checkbox",t).each((function(){e(this).hasClass("wpd_agreement_hide")&&h&&e(this).prop("checked")&&(Cookies.set(e(this).attr("name")+"_"+g,1,{expires:30,path:"/"}),e("input[name="+e(this).attr("name")+"]").each((function(){E.push(e(this))})))}))}(s),e(i).removeClass("wpd_not_clicked");const a=new FormData;a.append("action","wpdAddComment");const o=e(":input",s);let c=0;if(o.each((function(){let t=this;if(""!==t.name)if("file"==t.type){const o=t.files;e.each(o,(function(e,o){a.append(t.name+"["+e+"]",o),c+=o.size}))}else"checkbox"!=t.type&&"radio"!=t.type?a.append(t.name+"",e(t).val().trim()):"checkbox"!=t.type&&"radio"!=t.type||e(t).is(":checked")&&a.append(t.name+"",e(t).val())})),c>parseInt(wpdiscuzAjaxObj.wmuMaxFileSize,10))return wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj.wmuPhraseMaxFileSize,"wmuPhraseMaxFileSize",s),"error",3e3),e(i).addClass("wpd_not_clicked"),!1;if(c>parseInt(wpdiscuzAjaxObj.wmuPostMaxSize,10))return wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj.wmuPhrasePostMaxSize,"wmuPhrasePostMaxSize",s),"error",3e3),e(i).addClass("wpd_not_clicked"),!1;if(a.append("wpd_comment_depth",d),wpdiscuzAjaxObj.wpdiscuz_zs&&a.append("wpdiscuz_zs",wpdiscuzAjaxObj.wpdiscuz_zs),e(".wpd-cookies-checkbox",s).length?e(".wpd-cookies-checkbox",s).prop("checked")||(_=!1):t&&(_=!1),e("#wpdiscuz-loading-bar").show(),wpdiscuzAjaxObj.wpDiscuzReCaptchaSK&&"3.0"===n&&(1==wpdiscuzAjaxObj.wc_captcha_show_for_guest&&!wpdiscuzAjaxObj.is_user_logged_in||1==wpdiscuzAjaxObj.wc_captcha_show_for_members&&wpdiscuzAjaxObj.is_user_logged_in))try{grecaptcha.ready((function(){grecaptcha.execute(wpdiscuzAjaxObj.wpDiscuzReCaptchaSK,{action:"wpdiscuz/addComment"}).then((function(e){a.append("g-recaptcha-response",e),B(s,a,i)}),(function(e){wpdiscuzAjaxObj.setCommentMessage("reCaptcha Error","error"),console.log(e)}))}))}catch(t){console.log(t),wpdiscuzAjaxObj.setCommentMessage("reCaptcha Error: "+t.message,"error"),e("#wpdiscuz-loading-bar").fadeOut(250)}else B(s,a,i)}var c,p;!function(e){if((a||o)&&"2.0"===n){var t=ee(e);grecaptcha.reset(F[t])}}(e(".wpdiscuz_unique_id",s).val()),e(".wpdiscuz_reset").val("")}else wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj.wmuPhraseDoingUpload,"wmuPhraseDoingUpload",s),"warning")})),e(document.body).on("wpdiscuz_comment_posted",(function(t,a,o,n,i){const d=e(".wpd-thread-filter");void 0===i||isNaN(i.wc_all_comments_count_new)||void 0===i.wc_all_comments_count_new||!i.wc_all_comments_count_new?d.find(".wpd-filter").addClass("wpdiscuz-hidden"):d.find(".wpd-filter").removeClass("wpdiscuz-hidden")})),e("body").on("click",".wpd_editable_comment",(function(){u&&e(".wpdiscuz-edit-form-wrap").length&&V(Z(e(".wpdiscuz-edit-form-wrap"),0),u);var t=e(this),a=Z(t,0),o=ee(a),n=new FormData;n.append("action","wpdEditComment"),n.append("commentId",o),u=e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-text").get(0),_e(v,!0,n).done((function(o){if("object"==typeof o)if(o.success){if(e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-right .wpd-comment-text").replaceWith(o.data.html),wpdiscuzLoadRichEditor){var n=wpDiscuzEditor.createEditor("#wpd-editor-edit_"+a);n.clipboard.dangerouslyPasteHTML(0,o.data.content),n.update(),e(".wpd-toolbar-hidden").prev("[id^=wpd-editor-]").css("border-bottom","1px solid #dddddd")}else e("#wc-textarea-edit_"+a).val(o.data.content),be(e("#wc-textarea-edit_"+a));e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-right .wpd_editable_comment").hide(),e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-last-edited").hide()}else wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[o.data],o.data,t),"error");else console.log(o);e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),e("body").on("click",".wc_save_edited_comment",(function(){var t=e(this),a=Z(t),o=ee(a),n=e("#wpd-comm-"+a+" #wpdiscuz-edit-form");if(ne(n,"#wpd-editor-edit_"+a),n.on("submit",(function(e){e.preventDefault()})),n[0].checkValidity()){var i=new FormData;i.append("action","wpdSaveEditedComment"),i.append("commentId",o),e(":input",n).each((function(){""!==this.name&&"checkbox"!==this.type&&"radio"!==this.type&&i.append(this.name+"",e(this).val()),"checkbox"!==this.type&&"radio"!==this.type||e(this).is(":checked")&&i.append(this.name+"",e(this).val())})),_e(v,!0,i).done((function(n){"object"==typeof n?(n.success?(V(a,n.data.message),n.data.comment_approved_html&&e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-subheader").append(n.data.comment_approved_html),n.data.lastEdited&&(e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-last-edited").remove(),e(n.data.lastEdited).insertAfter("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-right .wpd-comment-text")),n.data.twitterShareLink&&e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-share .wpd-tooltip-content .wc_tw").attr("href",n.data.twitterShareLink),n.data.whatsappShareLink&&e("#wpd-comm-"+a+" > .wpd-comment-wrap .wpd-comment-share .wpd-tooltip-content .wc_whatsapp").attr("href",n.data.whatsappShareLink),wpdiscuzLoadRichEditor&&wpDiscuzEditor.removeEditor("#wpd-editor-edit_"+a)):wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[n.data],n.data,t),"error"),he(n,o)):wpdiscuzAjaxObj.setCommentMessage(n,"error"),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))}})),e("body").on("click",".wc_cancel_edit",(function(){var t=Z(e(this));V(t,u),wpdiscuzLoadRichEditor&&wpDiscuzEditor.removeEditor("#wpd-editor-edit_"+t)})),!f&&m&&(R=0,1==m?setTimeout((function(){G(!0)}),500):e("body").on("click",".wpd-load-comments",(function(){e(this).parent(".wpd-load-more-submit-wrap").remove(),G(!0)}))),e("body").on("click",".wpd-load-more-submit",(function(){var t=e(this),a="wpd-loaded";t.hasClass(a)&&G(!1,t,a,"wpd-loading")}));var K=!1;function Q(){var t=document.getElementById("wpdiscuzHasMoreComments"),a=0;t&&(a=t.dataset.is_show_load_more);var o=document.getElementById("wpdcom")?document.getElementById("wpdcom").clientHeight:0,n=e(window).height()+e(window).scrollTop();o&&n&&(100*n/o>=80&&!1===K&&1==a&&(K=!0,G(!1,e(".wpd-load-more-submit"))))}function G(t,a,o,n){a&&(a.toggleClass(o),a.toggleClass(n));var d=new FormData;d.append("action","wpdLoadMoreComments");var s=e(".wpdiscuz-sort-button-active").attr("data-sorting");s&&d.append("sorting",s),d.append("offset",R),d.append("lastParentId",e(".wpd-load-more-submit").attr("data-lastparentid")),d.append("isFirstLoad",t?1:0);var c=e(".wpdf-active").attr("data-filter-type");d.append("wpdType",c||""),_e(v,!t||1!=m,d).done((function(d){"object"==typeof d&&d.success&&(R++,t&&e(".wpd-comment").remove(),e(".wpdiscuz_single").remove(),e(".wpdiscuz-comment-pagination").before(d.data.comment_list),$(d,t&&2!==i),K=!1,d.data.loadLastCommentId&&(r=d.data.loadLastCommentId),he(d),t&&Y(!1)),e("#wpdiscuz-loading-bar").fadeOut(250),e(".wpd-load-more-submit").blur(),a&&(a.toggleClass(o),a.toggleClass(n))})).fail((function(t,i,d){console.log(d),e("#wpdiscuz-loading-bar").fadeOut(250),e(".wpd-load-more-submit").blur(),a&&(a.toggleClass(o),a.toggleClass(n))}))}function $(t,a){var o,n=document.getElementById("wpdiscuzHasMoreComments");if(0==t.data.is_show_load_more)n&&(n.dataset.is_show_load_more=0),e(".wpd-load-more-submit").parents(".wpdiscuz-comment-pagination").hide();else if(o=t.data.last_parent_id,e(".wpd-load-more-submit").attr("data-lastparentid",o),2!==i&&e(".wpdiscuz-comment-pagination").show(),n&&(n.dataset.is_show_load_more=1),a&&e(".wpd-load-more-submit").parents(".wpdiscuz-comment-pagination").show(),t.data.comments_left>0){if(!e(".wpd-load-more-submit .wpd-comments-left").length){const t=e("<span>");t.addClass("wpd-comments-left"),e(".wpd-load-more-submit").append(t)}e(".wpd-load-more-submit .wpd-comments-left").text(t.data.comments_left_text)}he(t)}function Y(t){var a=location.href.match(/#comment\-(\d+)/);if(null!==a){var o=a[1];if(e("#comment-"+o).length)setTimeout((function(){ie(),e("html, body").animate({scrollTop:e("#comment-"+o).parents("[id^=wpd-comm-]").offset().top-D},1e3,de),t&&X(o)}),500);else{var n=new FormData;n.append("action","wpdGetSingleComment"),n.append("commentId",o),_e(v,!0,n).done((function(a){if("object"==typeof a&&a.success){var n="#comment-"+o;e("#comment-"+a.data.parentCommentID).length?e("#comment-"+a.data.parentCommentID).parents("[id^=wpd-comm-"+a.data.parentCommentID+"]").replaceWith(a.data.message):e(".wpd-thread-list").prepend(a.data.message),he(a),ie(),e("html, body").animate({scrollTop:e(n).offset().top-D},1e3,de),t&&X(o)}e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))}}}function X(t){setTimeout((function(){e("#comment-"+t).siblings(".wpd-secondary-form-wrapper").is(":visible")||e("#comment-"+t).find(".wpd-reply-button").trigger("click")}),1100)}function J(e){if(void 0!==e.data.message)for(var t,a=e.data.message,o=0;o<a.length;o++)ae((t=a[o]).comment_parent,t.comment_html)}function Z(e,t){var a="";return(a=t?e.parents(".wpd-main-form-wrapper").attr("id"):e.parents(".wpd-comment").attr("id")).substring(a.lastIndexOf("-")+1)}function ee(e){return e.substring(0,e.indexOf("_"))}function te(e,t){return t?e.substring(e.indexOf("-")+1):e.substring(0,e.indexOf("-"))}function ae(t,a){if(0==t)se(a);else{var o=Z(e("#comment-"+t),0);e("#wpdiscuz_form_anchor-"+o).after(a)}}function oe(){var t=[];return e(".wpd-comment-right").each((function(){t.push(ee(Z(e(this),0)))})),t.join(",")}function ne(t,a){var o=t.find(".wpd-required-group");wpdiscuzLoadRichEditor&&t.find(".wc_comment").val(e(a+">.ql-editor").html()),function(e){if("wpdiscuz-subscribe-form"==e.attr("id"))return;var t=e.find(".wc_comment"),a=t.val().trim().replace(/<p><br><\/p>/g,"\n").replace(/<p>(.*?)<\/p>/g,"$1\n");a=(a=(a=(a=a.replace(/<img src=["|']https\:\/\/s\.w\.org\/images\/core\/emoji\/([^"|']+)["|'](.*?)alt=["|']([^"|']+)["|'](.*?)[^>]*>/g," $3 ")).replace(/<img[^>]+alt=["|']([^"|']+)["|'][^>]+src=["|']https\:\/\/s\.w\.org\/images\/core\/emoji\/([^"|']+)["|'][^>]?>/g," $1 ")).replace(/<img\s+([^>]*)class=["|']wpdem\-sticker["|'](.*?)alt=["|']([^"|']+)["|'](.*?)[^>]*>/g," $3 ")).replace(/<img\s+([^>]*)src=["|']([^"|']+)["|'](.*?)[^>]*>/g," $2 "),t.val(a)}(t),e.each(o,(function(){e("input",this).prop("required",!1),0===e("input:checked",this).length?e("input",e(this)).prop("required",!0):e(".wpd-field-invalid",this).remove()}))}function ie(){e("html, body").css("scroll-behavior","unset")}function de(){e("html").css("scroll-behavior",P),e("body").css("scroll-behavior",H)}function se(t){e(".wpd-sticky-comment").last()[0]?e(t).insertAfter(e(".wpd-sticky-comment").last()[0]):e(".wpd-thread-list").prepend(t)}function ce(t){t?t.prop("required")||(t.val()?t.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","inline-block"):t.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","none")):e.each(e(".wc_email"),(function(t,a){var o=e(a);o.prop("required")||(o.val()?o.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","inline-block"):o.parents("form").find("[name=wpdiscuz_notification_type]").parent().css("display","none"))}))}if(2!==i||f||(e(".wpd-load-more-submit").parents(".wpdiscuz-comment-pagination").hide(),Q(),e(window).scroll((function(){Q()}))),wpdiscuzAjaxObj.setLoadMoreVisibility=$,e("body").on("click",".wpd-vote-up.wpd_not_clicked, .wpd-vote-down.wpd_not_clicked",(function(){var t=e(this);e(t).removeClass("wpd_not_clicked");var a,o=ee(Z(t));a=e(this).hasClass("wpd-vote-up")?1:-1;var n=new FormData;n.append("action","wpdVoteOnComment"),n.append("commentId",o),n.append("voteType",a),_e(v,!0,n).done((function(n){if(e(t).addClass("wpd_not_clicked"),"object"==typeof n){if(n.success){if("total"===n.data.buttonsStyle){var i=e("#comment-"+o+" .wpd-comment-footer .wpd-vote-result"),d=n.data.votes;i.text(n.data.votesHumanReadable),i.attr("title",d),i.removeClass("wpd-up wpd-down"),d>0&&i.addClass("wpd-up"),d<0&&i.addClass("wpd-down")}else{var s=e("#comment-"+o+" .wpd-comment-footer .wpd-vote-result-like"),c=e("#comment-"+o+" .wpd-comment-footer .wpd-vote-result-dislike");s.text(n.data.likeCountHumanReadable),s.attr("title",n.data.likeCount),c.text(n.data.dislikeCountHumanReadable),c.attr("title",n.data.dislikeCount),parseInt(n.data.likeCount)>0?s.addClass("wpd-up"):s.removeClass("wpd-up"),parseInt(n.data.dislikeCount)<0?c.addClass("wpd-down"):c.removeClass("wpd-down")}var p=e("#comment-"+o+" .wpd-comment-footer .wpd-vote-up"),r=e("#comment-"+o+" .wpd-comment-footer .wpd-vote-down");p.removeClass("wpd-up"),r.removeClass("wpd-down"),n.data.curUserReaction>0?p.addClass("wpd-up"):n.data.curUserReaction<0&&r.addClass("wpd-down")}else n.data&&wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[n.data],n.data,t),"error");he(n,o,a)}else console.log(n);e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(a,o,n){console.log(n),e(t).addClass("wpd_not_clicked"),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),e(document).on("click","body",(function(t){var a=e(".wpdiscuz-sort-buttons");e(t.target).hasClass("wpdf-sorting")||e(t.target).parent().hasClass("wpdf-sorting")?a.css({display:a.is(":visible")?"none":"flex"}):a.hide()})),e("body").on("click",".wpdiscuz-sort-button:not(.wpdiscuz-sort-button-active)",(function(){var t=e(this),a=e(this).attr("data-sorting");if(a){e(".wpd-load-comments").parents(".wpd-load-more-submit-wrap").remove(),e(".wpdiscuz-sort-button.wpdiscuz-sort-button-active").removeClass("wpdiscuz-sort-button-active").appendTo(".wpdiscuz-sort-buttons"),t.addClass("wpdiscuz-sort-button-active").prependTo(".wpdf-sorting");var o=new FormData;o.append("action","wpdSorting"),o.append("sorting",a);var n=e(".wpdf-active").attr("data-filter-type");o.append("wpdType",n||""),_e(v,!0,o).done((function(t){"object"==typeof t&&t.success&&(e("#wpdcom .wpd-comment").remove(),e("#wpdcom .wpd-thread-list").prepend(t.data.message),$(t,!1),R=1),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))}})),window.onhashchange=function(){Y(!1)},1!=m&&Y(!1),e("body").on("click",".wpdiscuz-readmore",(function(){var t=Z(e(this)),a=ee(t),o=new FormData;o.append("action","wpdReadMore"),o.append("commentId",a),_e(v,!0,o).done((function(o){"object"==typeof o?(o.success?(e("#comment-"+a+" .wpd-comment-text").replaceWith(" "+o.data.message),e("#wpdiscuz-readmore-"+t).remove()):console.log(o.data),he(o)):console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),e("body").on("change",".wpd-required-group",(function(){0!==e("input:checked",this).length?e("input",e(this)).prop("required",!1):e("input",e(this)).prop("required",!0)})),e("body").on("click",".wpdiscuz-spoiler",(function(){e(this).next().slideToggle(),e(this).hasClass("wpdiscuz-spoiler-closed")?e(this).parents(".wpdiscuz-spoiler-wrap").find(".fa-plus").removeClass("fa-plus").addClass("fa-minus"):e(this).parents(".wpdiscuz-spoiler-wrap").find(".fa-minus").removeClass("fa-minus").addClass("fa-plus"),e(this).toggleClass("wpdiscuz-spoiler-closed")})),e("body").on("click",".wpd-tools",(function(){var t=e(".wpd-tools-actions",e(this));t.is(":visible")||e(this).parents(".wpd-comment-right").attr("id")!==e("[id^=comment-]","#wpdcom").last().attr("id")||e("#comments").css({paddingBottom:"160px"}),t.css({display:t.is(":visible")?"none":"flex"})})),e("body").on("mouseleave",".wpd-comment-right",(function(){e(this).find(".wpd-tools-actions").hide(),e("#comments").css({paddingBottom:"0"})})),e("body").on("click",".wpd_stick_btn",(function(){var t=ee(Z(e(this),0)),a=new FormData;a.append("action","wpdStickComment"),a.append("commentId",t),_e(v,!0,a).done((function(t){"object"==typeof t&&t.success&&location.reload(!0),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),e("body").on("click",".wpd_close_btn",(function(){var t=ee(Z(e(this),0)),a=new FormData;a.append("action","wpdCloseThread"),a.append("commentId",t),_e(v,!0,a).done((function(t){"object"==typeof t&&t.success&&location.reload(!0),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),e("body").on("click",".wpd-filter.wpd_not_clicked[data-filter-type]",(function(){var t=e(this),a=t.attr("data-filter-type");wpdiscuzAjaxObj.resetActiveFilters(".wpdf-"+a),t.removeClass("wpd_not_clicked"),e(".fas",t).addClass("fa-pulse fa-spinner");var o=new FormData;o.append("action","wpdLoadMoreComments");var n=e(".wpdiscuz-sort-button-active").attr("data-sorting");n&&o.append("sorting",n),o.append("lastParentId",0),o.append("offset",0),R=1,o.append("wpdType",t.hasClass("wpdf-active")?"":a),o.append("isFirstLoad",1),e(this).hasClass("wpdf-inline")?e(this).hasClass("wpdf-active")?e(".wpd-comment-info-bar").hide():e(".wpd-comment-info-bar").css("display","flex"):e(".wpd-comment-info-bar").hide(),_e(v,!1,o).done((function(a){t.addClass("wpd_not_clicked"),e(".fas",t).removeClass("fa-pulse fa-spinner"),"object"==typeof a&&a.success&&(t.toggleClass("wpdf-active"),e(".wpd-load-comments").remove(),e(".wpd-comment").remove(),e(".wpd-thread-list").prepend(a.data.comment_list),$(a),r=a.data.loadLastCommentId,e(".wpd-load-more-submit").blur(),he(a)),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),e("body").on("click",".wpdf-reacted.wpd_not_clicked",(function(){var t=e(this);t.removeClass("wpd_not_clicked"),e(".fas",t).addClass("fa-pulse fa-spinner");var a=new FormData;a.append("action","wpdMostReactedComment"),_e(v,!1,a).done((function(a){t.addClass("wpd_not_clicked"),e(".fas",t).removeClass("fa-pulse fa-spinner"),"object"==typeof a&&a.success&&(e("#comment-"+a.data.parentCommentID).length?e("#comment-"+a.data.parentCommentID).parents("[id^=wpd-comm-"+a.data.parentCommentID+"]").replaceWith(a.data.message):e("#comment-"+a.data.commentId).length||e(".wpd-thread-list").prepend(a.data.message),he(a),ie(),e("html, body").animate({scrollTop:e("#comment-"+a.data.commentId).offset().top-D},1e3,de))})).fail((function(a,o,n){console.log(n),e(".fas",t).removeClass("fa-pulse fa-spinner")}))})),e("body").on("click",".wpdf-hottest.wpd_not_clicked",(function(){var t=e(this);t.removeClass("wpd_not_clicked"),e(".fas",t).addClass("fa-pulse fa-spinner");var a=new FormData;a.append("action","wpdHottestThread"),_e(v,!1,a).done((function(a){t.addClass("wpd_not_clicked"),e(".fas",t).removeClass("fa-pulse fa-spinner"),"object"==typeof a&&a.success&&(e("#comment-"+a.data.commentId).length?e("#comment-"+a.data.commentId).parents("[id^=wpd-comm-"+a.data.commentId+"]").replaceWith(a.data.message):e(".wpd-thread-list").prepend(a.data.message),he(a),ie(),e("html, body").animate({scrollTop:e("#comment-"+a.data.commentId).offset().top-D},1e3,de))})).fail((function(a,o,n){console.log(n),e(".fas",t).removeClass("fa-pulse fa-spinner")}))})),e("body").on("click",".wpd-filter-view-all",(function(){e(".wpdf-inline.wpdf-active.wpd_not_clicked").trigger("click")})),e("body").on("click",".wpd-follow-link.wpd_not_clicked",(function(){var t=e(this);t.removeClass("wpd_not_clicked"),e(".fas",t).addClass("fa-pulse fa-spinner");var a=ee(Z(t,0)),o=new FormData;o.append("action","wpdFollowUser"),o.append("commentId",a),_e(v,!0,o).done((function(a){t.addClass("wpd_not_clicked"),"object"==typeof a?a.success?(wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[a.data.code],a.data.code,t),"success"),t.removeClass("wpd-follow-active"),a.data.followTip&&t.attr("wpd-tooltip",a.data.followTip),a.data.followClass&&t.addClass(a.data.followClass),he(a)):wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[a.data],a.data,t),"error"):console.log(a),e(".fas",t).removeClass("fa-pulse fa-spinner"),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(a,o,n){console.log(n),e(".fas",t).removeClass("fa-pulse fa-spinner"),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),ce(),e("body").on("keyup",".wc_email",(function(){ce(e(this))})),C&&e("#wpdcom").length){if(e("#wpd-bubble-wrapper").hover((function(){e(this).addClass("wpd-bubble-hover")}),(function(){e(this).removeClass("wpd-bubble-hover")})),k&&!Cookies.get(wpdiscuzAjaxObj.cookieHideBubbleHint)&&setTimeout((function(){e("#wpd-bubble-wrapper").addClass("wpd-bubble-hover");const t=wpdiscuzAjaxObj.bubbleHintShowOnce?"/":location.href;wpdiscuzAjaxObj.bubbleHintCookieExpires&&parseInt(wpdiscuzAjaxObj.bubbleHintCookieExpires,10);Cookies.set(wpdiscuzAjaxObj.cookieHideBubbleHint,"1",{expires:parseInt(wpdiscuzAjaxObj.bubbleHintCookieExpires,10),path:t}),setTimeout((function(){e("#wpd-bubble-wrapper").removeClass("wpd-bubble-hover")}),1e3*O)}),1e3*k),"content_left"===I)if(e(".entry-content").length){var pe=(re=Math.min(e(".entry-content").offset().left,e("#wpdcom").offset().left)-120)>25?re:25;e("#wpd-bubble-wrapper").css({left:pe+"px"}),e("#wpd-bubble-wrapper").addClass("wpd-left-content")}else if(e(".post-entry").length){pe=(re=Math.min(e(".post-entry").offset().left,e("#wpdcom").offset().left)-120)>25?re:25;e("#wpd-bubble-wrapper").css({left:pe+"px"}),e("#wpd-bubble-wrapper").addClass("wpd-left-content")}else if(e(".container").length){var re;pe=(re=Math.min(e(".container").offset().left,e("#wpdcom").offset().left)-120)>25?re:25;e("#wpd-bubble-wrapper").css({left:pe+"px"}),e("#wpd-bubble-wrapper").addClass("wpd-left-content")}else e("#wpd-bubble-wrapper").css({left:"25px"}),e("#wpd-bubble-wrapper").addClass("wpd-left-corner");else"left_corner"===I?(e("#wpd-bubble-wrapper").css({left:"25px"}),e("#wpd-bubble-wrapper").addClass("wpd-left-corner")):"right_corner"===I&&(e("#wpd-bubble-wrapper").css({right:"25px"}),e("#wpd-bubble-wrapper").addClass("wpd-right-corner"));e("#wpd-bubble-wrapper").show(),e("body").on("click","#wpd-bubble-add-message-close",(function(t){t.preventDefault(),t.stopPropagation(),e("#wpd-bubble-wrapper").removeClass("wpd-bubble-hover")})),e("body").on("click","#wpd-bubble",(function(){ie(),e("#tab-title-reviews").length&&e("#tab-title-reviews a").trigger("click"),e("html, body").animate({scrollTop:e("#wpdcom").offset().top-(D+28)},1e3,(function(){de(),e("#wpd-bubble-wrapper").removeClass("wpd-bubble-hover"),wpdiscuzLoadRichEditor?e("#wpd-editor-0_0").length&&wpDiscuzEditor.createEditor("#wpd-editor-0_0").focus():e("#wc-textarea-0_0").length&&e("#wc-textarea-0_0").trigger("focus")}))})),e("body").on("click","#wpd-bubble-comment-close",(function(t){t.preventDefault(),e("#wpd-bubble-notification-message").hide(),e("#wpd-bubble-wrapper").removeClass("wpd-new-comment-added")})),e("body").on("click","#wpd-bubble-comment-reply-link a",(function(){var t=e(this).attr("href");setTimeout((function(){e("#wpd-bubble-notification-message").hide(),e("#wpd-bubble-wrapper").removeClass("wpd-new-comment-added"),Y(!0);var a=t.match(/#comment\-(\d+)/);M=M.filter((function(e){return e!=a[1]})),e("#wpd-bubble-count .wpd-new-comments-count").text(M.length),0==M.length&&e("#wpd-bubble-count").removeClass("wpd-new-comments")}),100)})),e("body").on("click","#wpd-bubble-count",(function(){if(M.length){var t=new FormData;t.append("action","wpdBubbleUpdate"),t.append("newCommentIds",M.join()),_e(v,!0,t).done((function(t){"object"==typeof t&&t.success&&(t.data.message=t.data.message.filter((function(t){if(!e("#comment-"+t.comment_id).length)return t})),J(t),e("#wpd-bubble-count").removeClass("wpd-new-comments"),e("#wpd-bubble-count .wpd-new-comments-count").text("0"),M=[],e(".wpd-new-loaded-comment").length&&(ie(),e("html, body").animate({scrollTop:e(e(".wpd-new-loaded-comment")[0]).offset().top-(D+28)},1e3,de)),he(t)),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(e,t,a){console.log(a)}))}}))}if((C&&y||s)&&(t||!t&&p)&&setTimeout((function t(){if(x&&Math.ceil(Date.now()/1e3)-S>Math.floor(c/1e3/2))return setTimeout(t,c),console.log("You are not interacted with the website, the request has been blocked!"),!1;e.ajax({type:"GET",url:wpdiscuzAjaxObj.bubbleUpdateUrl,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wpdiscuzAjaxObj.restNonce)},data:{postId:d,lastId:l,visibleCommentIds:oe()}}).done((function(a){if(!L)if("object"==typeof a){if(a.commentIDsToRemove.forEach((function(t){e("[id^=wpd-comm-"+t+"]").remove()})),a.ids.length){s&&function(){var t=new FormData;t.append("action","wpdUpdateAutomatically"),t.append("loadLastCommentId",r),t.append("visibleCommentIds",oe()),_e(v,!1,t).done((function(t){L||"object"==typeof t&&t.success&&(J(t),t.data.wc_all_comments_count_new=parseInt(t.data.wc_all_comments_count_new),e(".wpd-thread-info").html(t.data.wc_all_comments_count_before_threads_html),e(".wpd-thread-info").attr("data-comments-count",t.data.wc_all_comments_count_new),e("#wpd-bubble-all-comments-count").replaceWith(t.data.wc_all_comments_count_bubble_html),r=t.data.loadLastCommentId)})).fail((function(e,t,a){console.log(a)}))}(),a.ids=a.ids.filter((function(t){if(!e("#comment-"+t).length)return t}));var o=5e3;l=parseInt(a.ids[a.ids.length-1]),M=M.concat(a.ids),A&&a.commentText&&(e("#wpd-bubble-author-avatar").html(a.avatar),e("#wpd-bubble-author-name").html(a.authorName),e("#wpd-bubble-comment-date span").html(a.commentDate),e("#wpd-bubble-comment-text").html(a.commentText),e("#wpd-bubble-comment-reply-link a").attr("href",a.commentLink),e("#wpd-bubble-notification-message").show(),o=1e4);var n=parseInt(e(".wpd-new-comments-count").text());n+=a.ids.length,e("#wpd-bubble-wrapper").removeClass("wpd-new-comment-added"),e("#wpd-bubble-wrapper").addClass("wpd-new-comment-added"),setTimeout((function(){e("#wpd-bubble-notification-message").hide(),e("#wpd-bubble-wrapper").removeClass("wpd-new-comment-added")}),o),e(".wpd-new-comments-count").text(n),e("#wpd-bubble-count").addClass("wpd-new-comments")}a.all_comments_count=parseInt(a.all_comments_count),e("#wpd-bubble-all-comments-count").replaceWith(a.all_comments_count_bubble_html),e(".wpd-reviews-tab").length||(e(".wpd-thread-info").html(a.all_comments_count_before_threads_html),e(".wpd-thread-info").attr("data-comments-count",a.all_comments_count))}else console.log(a);setTimeout(t,c)})).fail((function(e,a,o){console.log(o),setTimeout(t,c)}))}),c),e(".wpd-inline-form-wrapper").length){var le=new FormData;le.append("action","wpdGetInlineCommentForm"),_e(v,!1,le).done((function(t){"object"==typeof t?t.success?(e(".wpd-inline-form-wrapper").append(t.data),e.each(e("[name=_wpd_inline_nonce]"),(function(){var t=e(this).attr("id"),a=e(this).parents(".wpd-inline-shortcode").attr("id");e(this).attr("id",t+"-"+a.substring(a.lastIndexOf("-")+1))})),e(".wpd-inline-opened").addClass("wpd-active"),e(".wpd-inline-opened").find(".wpd-inline-form-wrapper").show(),e(".wpd-inline-opened").find(".wpd-inline-icon").addClass("wpd-open"),e(".wpd-inline-opened").find(".wpd-inline-icon").removeClass("wpd-ignored"),fe()):wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[t.data]),t.data,"error"):console.log(t)})).fail((function(e,t,a){console.log(a)}))}function me(t){if(e(t).hasClass("wpd-inline-shortcode"))var a=e(t).attr("id");else a=e(t).parents(".wpd-inline-shortcode").attr("id");return a.substring(a.lastIndexOf("-")+1)}function we(){e(".wpd-inline-form-wrapper").hide(),e(".wpd-inline-shortcode").removeClass("wpd-active"),e(".wpd-inline-icon").removeClass("wpd-open")}function ue(){e.each(e(".wpd-inline-shortcode:not(.wpd-inline-opened) .wpd-inline-icon"),(function(){var t=e(this),a=t.offset().top-window.pageYOffset;t.parents(".wpd-inline-shortcode").find(".wpd-inline-form").length&&a>0&&a<300&&("blink"===T?(t.addClass("wpd-blink"),setTimeout((function(){t.removeClass("wpd-blink")}),3e3)):(t.parents(".wpd-inline-shortcode").addClass("wpd-active"),t.siblings(".wpd-inline-form-wrapper").show(),t.addClass("wpd-open"),fe(t.siblings(".wpd-inline-form-wrapper"))))}))}function fe(t){if(t){if(t.offset().left<=10)t.css("left",Math.ceil(parseInt(t.css("left"))-t.offset().left+10)),(a=Math.ceil(t.siblings(".wpd-inline-icon.wpd-open").offset().left-t.offset().left+2))<3&&(a=3),document.styleSheets[0].addRule("#"+t.parents(".wpd-inline-shortcode").attr("id")+" .wpd-inline-form-wrapper::before","left: "+a+"px;");else if(t.offset().left+t.width()>document.body.clientWidth-10){var a;t.css("left",Math.ceil(parseInt(t.css("left"))+(document.body.clientWidth-(t.offset().left+t.width()))-10)),(a=Math.ceil(t.siblings(".wpd-inline-icon.wpd-open").offset().left-t.offset().left+2))>t.width()-3&&(a=t.width()-3),document.styleSheets[0].addRule("#"+t.parents(".wpd-inline-shortcode").attr("id")+" .wpd-inline-form-wrapper::before","left: "+a+"px;")}}else e.each(e(".wpd-inline-form-wrapper:visible"),(function(){if(e(this).offset().left<=10)e(this).css("left",Math.ceil(parseInt(e(this).css("left"))-e(this).offset().left+10)),(t=Math.ceil(e(this).siblings(".wpd-inline-icon.wpd-open").offset().left-e(this).offset().left+2))<3&&(t=3),document.styleSheets[0].addRule("#"+e(this).parents(".wpd-inline-shortcode").attr("id")+" .wpd-inline-form-wrapper::before","left: "+t+"px;");else if(e(this).offset().left+e(this).width()>document.body.clientWidth-10){var t;e(this).css("left",Math.ceil(parseInt(e(this).css("left"))+(document.body.clientWidth-(e(this).offset().left+e(this).width()))-10)),(t=Math.ceil(e(this).siblings(".wpd-inline-icon.wpd-open").offset().left-e(this).offset().left+2))>e(this).width()-3&&(t=e(this).width()-3),document.styleSheets[0].addRule("#"+e(this).parents(".wpd-inline-shortcode").attr("id")+" .wpd-inline-form-wrapper::before","left: "+t+"px;")}}))}function be(t){var a,o=0;if(t.parents(".wpd_main_comm_form").length)o=parseInt(wpdiscuzAjaxObj.commentTextMaxLength),a=t.parents(".wpd_main_comm_form");else if(t.parents(".wpd-secondary-form-wrapper").length)o=parseInt(wpdiscuzAjaxObj.replyTextMaxLength),a=t.parents(".wpd-secondary-form-wrapper");else if(t.parents("#wpdiscuz-edit-form").length){var n=Z(t);o=parseInt(n.substring(n.lastIndexOf("_")+1))?parseInt(wpdiscuzAjaxObj.replyTextMaxLength):parseInt(wpdiscuzAjaxObj.commentTextMaxLength),a=t.parents("#wpdiscuz-edit-form")}if(o&&a){var i=t.val().length,d=e(".wpd-editor-char-counter",a),s=o-i;d.html(s),s<=10?d.addClass("error"):d.removeClass("error")}}function he(t,a,o,n){t.data.callbackFunctions&&e.each(t.data.callbackFunctions,(function(e){"function"==typeof wpdiscuzAjaxObj[t.data.callbackFunctions[e]]?wpdiscuzAjaxObj[t.data.callbackFunctions[e]](t,a,o,n):"function"==typeof window[t.data.callbackFunctions[e]]?window[t.data.callbackFunctions[e]](t,a,o,n):console.log(t.data.callbackFunctions[e]+" is not a function")}))}function _e(t,a,o){a&&e("#wpdiscuz-loading-bar").show(),o.append("postId",d);var n=o.get("action");wpdiscuzAjaxObj.dataFilterCallbacks&&wpdiscuzAjaxObj.dataFilterCallbacks[n]&&e.each(wpdiscuzAjaxObj.dataFilterCallbacks[n],(function(e){"function"==typeof wpdiscuzAjaxObj[wpdiscuzAjaxObj.dataFilterCallbacks[n][e]]&&(o=wpdiscuzAjaxObj[wpdiscuzAjaxObj.dataFilterCallbacks[n][e]](o,t,a))}));var i=t?wpdiscuzAjaxObj.url:wpdiscuzAjaxObj.customAjaxUrl;return console.log(i),e.ajax({type:"POST",url:i,data:o,contentType:!1,processData:!1})}e(document).on("click","body",(function(t){if(e(t.target).hasClass("wpd-inline-form-close")||e(t.target).parents(".wpd-inline-form-close").length)t.preventDefault(),e(t.target).parents(".wpd-inline-form-wrapper").hide(),e(t.target).parents(".wpd-inline-shortcode").removeClass("wpd-active"),e(t.target).parents(".wpd-inline-form-wrapper").siblings(".wpd-inline-icon").removeClass("wpd-open");else if(!e(t.target).hasClass("wpd-inline-form-wrapper")&&!e(t.target).parents(".wpd-inline-form-wrapper").length){we();var a="";e(t.target).hasClass("wpd-inline-icon")?a=e(t.target):e(t.target).parents(".wpd-inline-icon").length&&(a=e(t.target).parents(".wpd-inline-icon")),a.length&&a.parents(".wpd-inline-shortcode").find(".wpd-inline-form").length&&(a.parents(".wpd-inline-shortcode").addClass("wpd-active"),a.siblings(".wpd-inline-form-wrapper").show(),a.addClass("wpd-open"),a.removeClass("wpd-ignored"),fe(a.siblings(".wpd-inline-form-wrapper")))}(!e(t.target).hasClass("wpd-last-inline-comments-wrapper")&&!e(t.target).parents(".wpd-last-inline-comments-wrapper").length||e(t.target).parents(".wpd-last-inline-comments-wrapper").length&&e(t.target).hasClass("wpd-load-inline-comment"))&&e(".wpd-last-inline-comments-wrapper").remove()})),e("body").on("click",".wpd-inline-submit.wpd_not_clicked",(function(t){t.preventDefault();var a=e(this),o=e(this).parents(".wpd_inline_comm_form");if(o[0].checkValidity()){e(this).removeClass("wpd_not_clicked");var n=new FormData;n.append("action","wpdAddInlineComment"),n.append("inline_form_id",me(o)),e.each(e("input, textarea",o),(function(t,a){"checkbox"===this.type?e(this).is(":checked")&&n.append(e(a).attr("name"),e(a).val()):n.append(e(a).attr("name"),e(a).val())})),_e(v,!0,n).done((function(t){if(a.addClass("wpd_not_clicked"),"object"==typeof t)if(t.success){o[0].reset(),we();var n=parseInt(t.data.newCount),i=a.parents(".wpd-inline-icon-wrapper").find(".wpd-inline-icon-count");i.text(n),n?i.addClass("wpd-has-comments"):i.removeClass("wpd-has-comments"),t.data.allCommentsCountNew=parseInt(t.data.allCommentsCountNew),e(".wpd-thread-info").html(t.data.allCommentsCountBeforeThreadsHtml),e(".wpd-thread-info").attr("data-comments-count",t.data.allCommentsCountNew),e("#wpd-bubble-all-comments-count").replaceWith(t.data.allCommentsCountBubbleHtml),t.data.message&&se(t.data.message),wpdiscuzAjaxObj.setCommentMessage(t.data.notification,"success")}else t.data&&wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[t.data],t.data,a),"error");else wpdiscuzAjaxObj.setCommentMessage(t,"error");e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))}})),e("body").on("keydown",".wpd-form",(function(t){t.ctrlKey&&13==t.keyCode&&e(this).find(".wc_comm_submit").trigger("click")})),e("body").on("keydown","#wpdiscuz-edit-form",(function(t){t.ctrlKey&&13==t.keyCode&&e(this).find(".wc_save_edited_comment").trigger("click")})),e("body").on("keydown",".wpd-inline-comment-content",(function(t){t.ctrlKey&&13==t.keyCode&&e(this).parents(".wpd_inline_comm_form").find(".wpd-inline-submit.wpd_not_clicked").trigger("click")})),e("body").on("click",".wpd-inline-icon-count.wpd-has-comments",(function(){var t=e(this),a=new FormData;a.append("action","wpdGetLastInlineComments"),a.append("inline_form_id",me(t)),_e(v,!0,a).done((function(a){"object"==typeof a?a.success?e(a.data).insertAfter(t):wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[a.data],a.data,t),"error"):console.log(a),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),e("body").on("click",".wpd-view-all-inline-comments",(function(t){t.preventDefault(),e(this).parents(".wpd-last-inline-comments-wrapper").remove(),e(".wpdf-inline").hasClass("wpdf-active")||e(".wpdf-inline").trigger("click"),ie(),e("html, body").animate({scrollTop:e(".wpdf-inline").offset().top-D},1e3,de)})),e("body").on("click",".wpd-feedback-content-link",(function(t){t.preventDefault();var a=e(this).data("feedback-content-id");ie(),e("html, body").animate({scrollTop:e("#wpd-inline-"+a).offset().top-(D+6)},1e3,(function(){de(),e("#wpd-inline-"+a).addClass("wpd-active")}))})),"scroll_open"!==T&&"blink"!==T||(ue(),e(window).on("scroll",ue)),e("body").on("click","#wpd-post-rating.wpd-not-rated .wpd-rate-starts svg",(function(){if(parseInt(w)&&!confirm(wpdiscuzAjaxObj.wc_confirm_rate_edit))return!1;var t=new FormData,a=e(this).index();a>=0&&a<5&&(t.append("action","wpdUserRate"),t.append("rating",a+1),_e(v,!0,t).done((function(t){"object"==typeof t?(t.success?location.reload(!0):wpdiscuzAjaxObj.setCommentMessage(wpdiscuzAjaxObj.applyFilterOnPhrase(wpdiscuzAjaxObj[t.data],t.data),"error"),he(t)):console.log(t),e("#wpdiscuz-loading-bar").fadeOut(250)})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)})))})),e("body").on("submit","#wpdiscuz-subscribe-form",(function(t){t.preventDefault();var a=e(this);const o=e("#wpdiscuz_subscription_button",a);if(a[0].checkValidity()&&(d=a,s=!0,"2.0"===n&&e("input[name=wpdiscuz_recaptcha_subscribe_form]",d).length&&!e("input[name=wpdiscuz_recaptcha_subscribe_form]",d).val().length?(s=!1,e(".wpdiscuz-recaptcha",d).css("border","1px solid red")):"2.0"===n&&e("input[name=wpdiscuz_recaptcha_subscribe_form]",d).length&&e(".wpdiscuz-recaptcha",d).css("border","none"),s)&&o.hasClass("wpd_not_clicked")){o.removeClass("wpd_not_clicked");var i=new FormData;i.append("action","wpdAddSubscription"),e("*",a).each((function(){""!=this.name&&"checkbox"!=this.type&&"radio"!=this.type&&i.append(this.name+"",e(this).val()),"checkbox"!=this.type&&"radio"!=this.type||e(this).is(":checked")&&i.append(this.name+"",e(this).val())})),_e(v,!0,i).done((function(t){"object"==typeof t?t.success?(wpdiscuzAjaxObj.setCommentMessage(t.data,"success"),setTimeout((function(){location.reload(!0)}),3e3)):wpdiscuzAjaxObj.setCommentMessage(t.data,"error"):wpdiscuzAjaxObj.setCommentMessage(t,"error"),e("#wpdiscuz-loading-bar").fadeOut(250),L=!1,o.addClass("wpd_not_clicked")})).fail((function(t,a,n){console.log(n),o.addClass("wpd_not_clicked"),e("#wpdiscuz-loading-bar").fadeOut(250)}))}var d,s})),e("body").on("click",".wpd-unsubscribe",(function(t){t.preventDefault();var a=new FormData;a.append("action","wpdUnsubscribe"),a.append("sid",e(this).data("sid")),a.append("skey",e(this).data("skey")),_e(v,!0,a).done((function(t){"object"==typeof t?t.success?(wpdiscuzAjaxObj.setCommentMessage(t.data,"success"),setTimeout((function(){location.reload(!0)}),3e3)):wpdiscuzAjaxObj.setCommentMessage(t.data,"error"):console.log(t),e("#wpdiscuz-loading-bar").fadeOut(250),L=!1})).fail((function(t,a,o){console.log(o),e("#wpdiscuz-loading-bar").fadeOut(250)}))})),wpdiscuzAjaxObj.resetActiveFilters=function(t){e(".wpd-filter.wpdf-active"+(t?":not("+t+")":"")).removeClass("wpdf-active")},wpdiscuzAjaxObj.getAjaxObj=_e}));var onloadCallback=function(){if(document.getElementById("wpdiscuz-recaptcha-0_0")&&"2.0"===wpdiscuzAjaxObj.wpDiscuzReCaptchaVersion&&(1==wpdiscuzAjaxObj.wc_captcha_show_for_guest&&!wpdiscuzAjaxObj.is_user_logged_in||1==wpdiscuzAjaxObj.wc_captcha_show_for_members&&wpdiscuzAjaxObj.is_user_logged_in))try{grecaptcha.render("wpdiscuz-recaptcha-0_0",{sitekey:wpdiscuzAjaxObj.wpDiscuzReCaptchaSK,theme:wpdiscuzAjaxObj.wpDiscuzReCaptchaTheme,callback:function(e){jQuery("#wpdiscuz-recaptcha-field-0_0").val("key")},"expired-callback":function(){jQuery("#wpdiscuz-recaptcha-field-0_0").val("")}})}catch(e){console.log(e),wpdiscuzAjaxObj.setCommentMessage("reCaptcha Error: "+e.message,"error")}};